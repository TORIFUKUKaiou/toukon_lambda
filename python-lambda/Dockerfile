# ğŸ”¥ é—˜é­‚Python Lambda Dockerfile

# AWS Lambda Python ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨
FROM public.ecr.aws/lambda/python:3.11

# ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªè¨­å®š
WORKDIR /var/task

# Pythonä¾å­˜é–¢ä¿‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆå­˜åœ¨ã™ã‚‹å ´åˆï¼‰
COPY requirements.txt* ./

# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆrequirements.txtãŒå­˜åœ¨ã™ã‚‹å ´åˆï¼‰
RUN if [ -f requirements.txt ]; then pip install --no-cache-dir -r requirements.txt; fi

# Lambdaé–¢æ•°ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼
COPY lambda_function.py ./

# ãƒãƒ³ãƒ‰ãƒ©ãƒ¼é–¢æ•°ã‚’æŒ‡å®š
CMD ["lambda_function.lambda_handler"]
