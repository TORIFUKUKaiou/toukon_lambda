#!/bin/bash
set -euo pipefail

# ğŸ”¥ é—˜é­‚Lambda ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆï¼ˆAWS Lambda Runtime APIå¯¾å¿œï¼‰

if [ -z "${AWS_LAMBDA_RUNTIME_API:-}" ]; then
    # ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œæ™‚ï¼ˆRIEä½¿ç”¨ï¼‰
    echo "ğŸ”¥ ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰: RIEèµ·å‹•"
    exec /usr/local/bin/aws-lambda-rie /var/task/bin/toukon_lambda start
else
    # AWS Lambdaç’°å¢ƒã§ã®å®Ÿè¡Œ
    echo "ğŸ”¥ AWS Lambdaç’°å¢ƒ: ç›´æ¥å®Ÿè¡Œ"
    exec /var/task/bin/toukon_lambda start
fi
